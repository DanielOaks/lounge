<!doctype html>
<html>
	<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="referrer" content="no-referrer">
	<meta name="theme-color" content="#455164">

	<title>The Lounge</title>

	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/style.css">
	<link id="theme" rel="stylesheet" href="<%= theme %>">
	<style id="user-specified-css"></style>

	<link rel="shortcut icon" href="img/favicon.png" data-other="img/favicon-notification.png" data-toggled="false" id="favicon">
	<link rel="apple-touch-icon" sizes="120x120" href="img/apple-touch-icon-120x120.png">
	<link rel="manifest" href="manifest.json">

	</head>
	<body class="signed-out <%= public ? "public" : "" %>">

	<div id="wrap">
	<div id="viewport">
		<aside id="sidebar">
			<div class="networks"></div>
			<div class="empty">
				You're not connected to any networks yet.
			</div>
		</aside>
		<footer id="footer">
			<span class="tooltipped tooltipped-n" aria-label="Sign in"><button class="icon sign-in" data-target="#sign-in" aria-label="Sign in"></button></span>
			<span class="tooltipped tooltipped-n" aria-label="Connect to network"><button class="icon connect" data-target="#connect" aria-label="Connect to network"></button></span>
			<span class="tooltipped tooltipped-n" aria-label="Client settings"><button class="icon settings" data-target="#settings" aria-label="Client settings"></button></span>
			<span class="tooltipped tooltipped-n" aria-label="Sign out"><button class="icon sign-out" id="sign-out" aria-label="Sign out"></button></span>
		</footer>
		<div id="main">
			<div id="windows">
				<div id="loading" class="window active">
					<div class="container">
						<div class="row">
							<div class="col-xs-12">
								<h1 class="title">The Lounge is loading…</h1>
							</div>
							<div class="col-xs-12">
								<p id="loading-page-message">Loading the app… <a href="http://enable-javascript.com/" target="_blank">Make sure to have JavaScript enabled.</a></p>
								<p id="loading-slow">This is taking longer than it should, there might be connectivity issues.</p>
								<script async src="js/loading-slow-alert.js"></script>
							</div>
						</div>
					</div>
				</div>
				<div id="chat-container" class="window">
					<div id="chat"></div>
					<form id="form" method="post" action="">
						<div class="input">
							<span id="nick">
								<span id="nick-value" spellcheck="false"></span><!-- Comments here remove spaces between elements
								--><span id="set-nick-tooltip" class="tooltipped tooltipped-e" aria-label="Change nick"><button id="set-nick" type="button" aria-label="Change nick"></button></span><!--
								--><span id="cancel-nick-tooltip" class="tooltipped tooltipped-e" aria-label="Cancel"><button id="cancel-nick" type="button" aria-label="Cancel"></button></span><!--
								--><span id="save-nick-tooltip" class="tooltipped tooltipped-e" aria-label="Save"><button id="submit-nick" type="button" aria-label="Save"></button></span>
							</span>
							<textarea id="input" class="mousetrap"></textarea>
							<span id="cycle-nicks-tooltip" class="tooltipped tooltipped-w" aria-label="Cycle through nicks">
								<button id="cycle-nicks" type="button" aria-label="Cycle through nicks"></button>
							</span>
							<span id="submit-tooltip" class="tooltipped tooltipped-w" aria-label="Send message">
								<button id="submit" type="submit" aria-label="Send message"></button>
							</span>
						</div>
					</form>
				</div>
				<div id="sign-in" class="window">
					<form class="container" method="post" action="">
						<div class="row">
							<div class="col-xs-12">
								<h1 class="title">Sign in to The Lounge</h1>
							</div>
							<div class="col-xs-12">
								<label>
								Username
								<input class="input" name="user">
								</label>
							</div>
							<div class="col-xs-12">
								<label>
								Password
								<input class="input" type="password" name="password">
								</label>
							</div>
							<div class="col-xs-12">
								<label class="remember">
									<input type="checkbox" name="remember" id="sign-in-remember" checked>
									Stay signed in
								</label>
							</div>
							<div class="col-xs-12 error" style="display: none;">
								Authentication failed.
							</div>
							<div class="col-xs-12">
								<button type="submit" class="btn">
									Sign in
								</button>
							</div>
						</div>
					</form>
				</div>
				<div id="connect" class="window">
					<div class="header">
						<button class="lt" aria-label="Toggle channel list"></button>
					</div>
					<form class="container" method="post" action="">
						<div class="row">
							<div class="col-sm-12">
								<h1 class="title">
									<%= public ? "The Lounge - " : "" %>
									Connect
									<%= !displayNetwork && lockNetwork ? "to " + defaults.name : "" %>
								</h1>
							</div>
							<div <%= typeof(displayNetwork) !== "undefined" && !displayNetwork ? 'style="display: none;"' : ''%>>
								<div class="col-sm-12">
									<h2>Network settings</h2>
								</div>
								<div class="col-sm-3">
									<label for="connect:name">Name</label>
								</div>
								<div class="col-sm-9">
									<input class="input" id="connect:name" name="name" value="<%= defaults.name %>">
								</div>
								<div class="col-sm-3">
									<label for="connect:host">Server</label>
								</div>
								<div class="col-sm-6 col-xs-8">
									<input class="input" id="connect:host" name="host" value="<%= defaults.host %>" aria-label="Server address" <%= typeof(lockNetwork) !== "undefined" && lockNetwork ? "disabled" : "" %>>
								</div>
								<div class="col-sm-3 col-xs-4">
									<div class="port">
										<input class="input" type="number" min="1" max="65535" name="port" value="<%= defaults.port %>" aria-label="Server port" <%= typeof(lockNetwork) !== "undefined" && lockNetwork ? "disabled" : "" %>>
									</div>
								</div>
								<div class="clearfix"></div>
								<div class="col-sm-3">
									<label for="connect:password">Password</label>
								</div>
								<div class="col-sm-9">
									<input class="input" id="connect:password" type="password" name="password" value="<%= defaults.password %>">
								</div>
								<div class="col-sm-9 col-sm-offset-3">
									<label class="tls">
										<input type="checkbox" name="tls" <%= defaults.tls ? "checked" : "" %> <%= typeof(lockNetwork) !== "undefined" && lockNetwork ? "disabled" : "" %>>
										Enable TLS/SSL
									</label>
								</div>
								<div class="clearfix"></div>
							</div>
							<div class="col-sm-12">
								<h2>User preferences</h2>
							</div>
							<div class="col-sm-3">
								<label for="connect:nick">Nick</label>
							</div>
							<div class="col-sm-9">
								<input class="input nick" id="connect:nick" name="nick" value="<%= defaults.nick %>">
							</div>
							<div class="col-sm-3">
								<label for="connect:username">Username</label>
							</div>
							<div class="col-sm-9">
								<input class="input username" id="connect:username" name="username" value="<%= defaults.username %>">
							</div>
							<div class="col-sm-3">
								<label for="connect:realname">Real name</label>
							</div>
							<div class="col-sm-9">
								<input class="input" id="connect:realname" name="realname" value="<%= defaults.realname %>">
							</div>
							<div class="col-sm-3">
								<label for="connect:channels">Channels</label>
							</div>
							<div class="col-sm-9">
								<input class="input" id="connect:channels" name="join" value="<%= defaults.join %>">
							</div>
							<div class="col-sm-9 col-sm-offset-3">
								<button type="submit" class="btn">Connect</button>
							</div>
						</div>
					</form>
				</div>
				<div id="settings" class="window">
					<div class="header">
						<button class="lt" aria-label="Toggle channel list"></button>
					</div>
					<div class="container">
						<div class="col-sm-12">
							<h1 class="title">Settings</h1>
						</div>

						<table class="settings">
							<tr>
								<th class="section-title">Messages</th>
								<th class="icon" title="Enabled"> &#xf046; </th>
								<th class="icon" title="Synchronize to server"> &#xf0c2; </th>
							</tr>
							<tr>
								<td> <label for="setting:motd">Show motd</label> </td>
								<td> <input type="checkbox" id="setting:motd" name="setting:motd"> </td>
								<td> <input type="checkbox" id="sync:motd"    name="sync:motd"> </td>
							</tr>
							<tr>
								<td> <label for="setting:join">Show joins</label> </td>
								<td> <input type="checkbox" id="setting:join" name="setting:join"> </td>
								<td> <input type="checkbox" id="sync:join"    name="sync:join"> </td>
							</tr>
							<tr>
								<td> <label for="setting:part">Show parts</label> </td>
								<td> <input type="checkbox" id="setting:part" name="setting:part"> </td>
								<td> <input type="checkbox" id="sync:part"    name="sync:part"> </td>
							</tr>
							<tr>
								<td> <label for="setting:quit">Show quits</label> </td>
								<td> <input type="checkbox" id="setting:quit" name="setting:quit"> </td>
								<td> <input type="checkbox" id="sync:quit"    name="sync:quit"> </td>
							</tr>
							<tr>
								<td> <label for="setting:nick">Show nick changes</label> </td>
								<td> <input type="checkbox" id="setting:nick" name="setting:nick"> </td>
								<td> <input type="checkbox" id="sync:nick"    name="sync:nick"> </td>
							</tr>
							<tr>
								<td> <label for="setting:mode">Show mode changes</label> </td>
								<td> <input type="checkbox" id="setting:mode" name="setting:mode"> </td>
								<td> <input type="checkbox" id="sync:mode"    name="sync:mode"> </td>
							</tr>
						</table>

						<table class="settings">
							<tr>
								<th class="section-title">Visual Aids</th>
								<th class="icon"></th>
								<th class="icon"></th>
							</tr>
							<tr>
								<td> <label for="setting:colors">Enable colored nicknames</label> </td>
								<td> <input type="checkbox" id="setting:colors" name="setting:colors"> </td>
								<td> <input type="checkbox" id="sync:colors"    name="sync:colors"> </td>
							</tr>
							<% if (typeof prefetch === "undefined" || prefetch !== false) { %>
							<tr>
								<td> <label for="setting:thumbnails">Auto-expand thumbnails</label> </td>
								<td> <input type="checkbox" id="setting:thumbnails" name="setting:thumbnails"> </td>
								<td> <input type="checkbox" id="sync:thumbnails"    name="sync:thumbnails"> </td>
							</tr>
							<tr>
								<td> <label for="setting:links">Auto-expand links</label> </td>
								<td> <input type="checkbox" id="setting:links" name="setting:links"> </td>
								<td> <input type="checkbox" id="sync:links"    name="sync:links"> </td>
							</tr>
							<% } %>
						</table>

						<table class="settings">
							<tr>
								<th class="section-title">Notifications</th>
								<th class="icon"></th>
								<th class="icon"></th>
							</tr>
							<tr>
								<td>
									<label for="setting:desktopNotifications">Enable desktop notifications</label>
									<div class="error" id="warnDisabledDesktopNotifications">
										<strong>Warning</strong>: Desktop notifications are blocked by your web browser
									</div>
								</td>
								<td> <input type="checkbox" id="setting:desktopNotifications" name="setting:desktopNotifications"> </td>
								<td> <input type="checkbox" id="sync:desktopNotifications"    name="sync:desktopNotifications"> </td>
							</tr>
							<tr>
								<td>
									<label for="setting:notification">Enable notification sound</label>
									<button id="play">(<span class="icon"></span> play sound)</button>
								</td>
								<td> <input type="checkbox" id="setting:notification" name="setting:notification"> </td>
								<td> <input type="checkbox" id="sync:notification"    name="sync:notification"> </td>
							</tr>
							<tr>
								<td> <label for="setting:notifyAllMessages">Enable notification for all messages</label> </td>
								<td> <input type="checkbox" id="setting:notifyAllMessages" name="setting:notifyAllMessages"> </td>
								<td> <input type="checkbox" id="sync:notifyAllMessages"    name="sync:notifyAllMessages"> </td>
							</tr>
						</table>

						<div class="col-sm-12">
							<h2>
								Custom Stylesheet
								<% if (!public) { %>
								<span class="sync-header">
									<input type="checkbox" id="sync:userStyles" name="sync:userStyles">
									<span class="icon" title="Synchronize to server"> &#xf0c2; </span>
								</span>
								<% } %>
							</h2>
						</div>
						<div class="col-sm-12">
							<textarea class="input" name="setting:userStyles" id="user-specified-css-input" placeholder="You can override any style with CSS here"></textarea>
						</div>
						<div class="col-sm-12">
							<h2>About The Lounge</h2>
						</div>
						<div class="col-sm-12">
							<p class="about">
								You're currently running version <%= version %><br>
								<a href="https://github.com/thelounge/lounge/blob/master/CHANGELOG.md#readme" target="_blank">View the change log</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>

	<div id="context-menu-container">
		<ul id="context-menu"></ul>
	</div>

	<script src="socket.io/socket.io.js"></script>
	<script src="js/libs.min.js"></script>
	<script src="js/lounge.templates.js"></script>
	<script src="js/lounge.js"></script>

	</body>
</html>
